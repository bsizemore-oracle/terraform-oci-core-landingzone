variables:
  # WORKING_DIR: "/tmp/$CI_PIPELINE_ID"
  # ISSUE_DIR: "$WORKING_DIR/issue"
  # MAIN_DIR: "$WORKING_DIR/main"
  # PIPELINE_TAR: "pipeline-$CI_PIPELINE_ID.tar.gz"
  BUCKET_NAME: $BUCKET_NAME
  NAMESPACE: $LZTEAM_NAMESPACE
  PROXY_SERVER: $PROXY_SERVER
  TEST_CASES_ZIP: $TEST_CASES_ZIP
  PAR_LOCATION: ""

cis-compliance-script-flake-job:
  stage: tf-get-test-case
  # tags:
  #   - terraform
  # rules:
  #   - if: '$CI_PIPELINE_SOURCE == "push" || $CI_PIPELINE_SOURCE == "merge_request_event"'
  #     changes:
  #       - scripts/cis_reports.py
  script:
    - echo "  ----- BEGIN - Getting Test Cases -----  "
    - pwd
    - ls
    - echo $BUCKET_NAME
    - export https_proxy=$PROXY_SERVER
    - echo $NAMESPACE
    - oci os object get -bn $BUCKET_NAME --file $TEST_CASES_ZIP --name $TEST_CASES_ZIP -ns $LZTEAM_NAMESPACE
    - unzip $TEST_CASES_ZIP
    - ls
    - echo "  ----- END - 5 Getting Test Cases -----  "
